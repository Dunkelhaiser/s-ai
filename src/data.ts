export interface Connections {
    city1: string;
    city2: string;
    distance: number;
    directed?: boolean;
}

export const parseData = () => {
    const data = `  |      | Ужг | Льв | ІвФ | Лцк | Трн | Чрц | Рвн | Хмл | Внц | Жтм | Умн  | Київ | Одс | Чрг | Мкл | Чрк | Крп | Прл | Хрс | Крем | КРг | Смф | Плт | Сум | Днп | Зпр | Млт | Хрк | Днц | Лгн |
                    | Ужг  |  0  | 268 | 270 |     |     |     |     |     |     |     |      |      |     |     |     |     |     |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | Льв  | 268 |  0  | 135 | 151 | 127 |     | 211 |     |     |     |      |      |     |     |     |     |     |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | ІвФ  | 270 | 135 |  0  |     | 133 | 134 |     |     |     |     |      |      |     |     |     |     |     |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | Лцк  |     | 151 |     |  0  |     |     | 74  |     |     |     |      |      |     |     |     |     |     |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | Трн  |     | 127 | 133 |     |  0  | 173 | 154 | 112 |     |     |      |      |     |     |     |     |     |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | Чрц  |     |     | 134 |     | 173 |  0  |     | 188 | 272 |     |      |      |     |     |     |     |     |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | Рвн  |     | 211 |     | 74  | 154 |     |  0  | 194 |     | 188 |      |      |     |     |     |     |     |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | Хмл  |     |     |     |     | 112 | 188 | 194 |  0  | 121 | 192 |      |      |     |     |     |     |     |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | Внц  |     |     |     |     |     | 272 |     | 121 |  0  | 153 | 161  | 262  |     |     |     |     |     |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | Жтм  |     |     |     |     |     |     | 188 | 192 | 153 |  0  |      | 139  |     |     |     |     |     |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | Умн  |     |     |     |     |     |     |     |     | 161 |     |  0   | 211  | 271 |     |     | 184 | 165 |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | Київ |     |     |     |     |     |     |     |     | 262 | 139 | 211  |  0   |     | 157 |     | 196 |     | 148 |     |      |     |     | 352 |     |     |     |     |     |     |     |
                    | Одс  |     |     |     |     |     |     |     |     |     |     | 271  |      |  0  |     | 135 |     | 329 |     |     |      |     |     |     |     |     |     |     |     |     |     |
                    | Чрг  |     |     |     |     |     |     |     |     |     |     |      | 157  |     |  0  |     |     |     | 181 |     |      |     |     |     | 309 |     |     |     |     |     |     |
                    | Мкл  |     |     |     |     |     |     |     |     |     |     |      |      | 135 |     |  0  |     | 183 |     | 67  |      | 190 |     |     |     |     |     |     |     |     |     |
                    | Чрк  |     |     |     |     |     |     |     |     |     |     | 184  | 196  |     |     |     |  0  | 129 | 171 |     | 130  |     |     | 257 |     |     |     |     |     |     |     |
                    | Крп  |     |     |     |     |     |     |     |     |     |     | 165  |      | 329 |     | 183 | 129 |  0  |     |     | 134  | 119 |     |     |     | 246 |     |     |     |     |     |
                    | Прл  |     |     |     |     |     |     |     |     |     |     |      | 148  |     | 181 |     | 171 |     |  0  |     | 216  |     |     | 233 | 187 |     |     |     |     |     |     |
                    | Хрс  |     |     |     |     |     |     |     |     |     |     |      |      |     |     | 67  |     |     |     |  0  |      | 185 | 321 |     |     |     | 307 | 227 |     |     |     |
                    | Крем |     |     |     |     |     |     |     |     |     |     |      |      |     |     |     | 130 | 134 | 216 |     |  0   | 154 |     | 113 |     | 161 |     |     |     |     |     |
                    | КРг  |     |     |     |     |     |     |     |     |     |     |      |      |     |     | 190 |     | 119 |     | 185 | 154  |  0  |     |     |     | 146 | 183 |     |     |     |     |
                    | Смф  |     |     |     |     |     |     |     |     |     |     |      |      |     |     |     |     |     |     | 321 |      |     |  0  |     |     |     |     | 247 |     |     |     |
                    | Плт  |     |     |     |     |     |     |     |     |     |     |      | 352  |     |     |     | 257 |     | 233 |     | 113  |     |     |  0  | 176 | 183 |     |     | 143 |     |     |
                    | Сум  |     |     |     |     |     |     |     |     |     |     |      |      |     | 309 |     |     |     | 187 |     |      |     |     | 176 |  0  |     |     |     | 186 |     |     |
                    | Днп  |     |     |     |     |     |     |     |     |     |     |      |      |     |     |     |     | 246 |     |     | 161  | 146 |     | 183 |     |  0  | 85  |     | 218 | 249 |     |
                    | Зпр  |     |     |     |     |     |     |     |     |     |     |      |      |     |     |     |     |     |     | 307 |      | 183 |     |     |     | 85  |  0  | 135 |     | 229 |     |
                    | Млт  |     |     |     |     |     |     |     |     |     |     |      |      |     |     |     |     |     |     | 227 |      |     | 247 |     |     |     | 135 |  0  |     | 308 |     |
                    | Хрк  |     |     |     |     |     |     |     |     |     |     |      |      |     |     |     |     |     |     |     |      |     |     | 143 | 186 | 218 |     |     |  0  | 335 | 339 |
                    | Днц  |     |     |     |     |     |     |     |     |     |     |      |      |     |     |     |     |     |     |     |      |     |     |     |     | 249 | 229 | 308 | 335 |  0  | 155 |
                    | Лгн  |     |     |     |     |     |     |     |     |     |     |      |      |     |     |     |     |     |     |     |      |     |     |     |     |     |     |     | 339 | 155 |  0  |`;

    const lines = data.split("\n");
    const cities = lines[0]
        .split("|")
        .map((s) => s.trim())
        .filter((s) => s !== "");

    const connections: Connections[] = [];

    for (let i = 2; i < lines.length; i++) {
        const cells = lines[i].split("|");
        const fromCity = cells[1].trim();

        if (!fromCity) continue;

        for (let j = 0; j < cities.length; j++) {
            const distance = cells[j + 2].trim();
            if (distance && distance !== "0") {
                connections.push({
                    city1: fromCity,
                    city2: cities[j],
                    distance: parseInt(distance, 10),
                });
            }
        }
    }

    console.log(connections);

    return { cities, connections };
};

export const CITY_COORDINATES: Record<string, [number, number]> = {
    Ужг: [50, 240],
    Льв: [110, 170],
    ІвФ: [137, 223],
    Лцк: [170, 120],
    Трн: [175, 180],
    Чрц: [185, 255],
    Рвн: [200, 130],
    Хмл: [235, 195],
    Внц: [295, 205],
    Жтм: [305, 150],
    Умн: [360, 235],
    Київ: [375, 140],
    Чрг: [407, 85],
    Чрк: [440, 197],
    Крп: [453, 243],
    Прл: [450, 130],
    Одс: [380, 355],
    Мкл: [435, 325],
    Хрс: [460, 340],
    Крем: [495, 210],
    КРг: [490, 280],
    Смф: [520, 425],
    Плт: [540, 185],
    Сум: [550, 110],
    Днп: [565, 245],
    Зпр: [563, 280],
    Млт: [565, 330],
    Хрк: [610, 160],
    Днц: [675, 275],
    Лгн: [733, 240],
};
